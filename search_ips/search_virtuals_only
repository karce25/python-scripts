def extract_lines_with_keywords(input_file, output_file, keywords):
    try:
        # Track matched keywords
        matched_keywords = set()

        # Open input and output files
        with open(input_file, 'r') as infile, open(output_file, 'w') as outfile:
            matches_found = False
            
            for line_number, line in enumerate(infile, start=1):
                # Check if the line contains a keyword and ensure it's not already matched
                for keyword in keywords:
                    if keyword.lower() in line.lower() and keyword not in matched_keywords:
                        outfile.write(f"{line_number}: {line}")  # Write line with its line number
                        matches_found = True
                        matched_keywords.add(keyword)  # Mark keyword as matched
                        break  # Stop checking other keywords for this line
            
            if matches_found:
                print(f"Lines containing keywords have been extracted to '{output_file}'.")
            else:
                print(f"No lines with the given keywords were found in '{input_file}'.")
    except FileNotFoundError:
        print(f"Error: The file '{input_file}' was not found.")
    except Exception as e:
        print(f"An error occurred: {e}")

# Example usage
input_file = 'your_output_file.txt'  # Replace with the name of your input file
output_file = 'filtered_lines.txt'   # Replace with the name of your desired output file
keywords = ['ltm virtual /Common', 'destination']  # Define your search keywords
extract_lines_with_keywords(input_file, output_file, keywords)
